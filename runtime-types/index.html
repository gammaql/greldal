<!DOCTYPE html><html lang="id"><head><meta charSet="utf-8" class="next-head"/><link rel="preload" href="/_next/static/8iisNehlPbrKX~If4PK0A/pages/runtime-types.js" as="script"/><link rel="preload" href="/_next/static/8iisNehlPbrKX~If4PK0A/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/8iisNehlPbrKX~If4PK0A/pages/_error.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-1831ee303495fbc2dd7e.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.c09e266a3614b47c1a12.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-d34038202fccf0c2b4fd.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.cea10cd649dbf8aca2a5.js" as="script"/><link rel="stylesheet" href="/_next/static/css/styles.a8fc0afc.chunk.css"/><style id="__jsx-926013992">body{font-size:14px;line-height:22px;background:#fefffc;o:#000;font-family:Helvetica Neue,Helvetica,Arial;}
#container h5,#container h6{font-size:0.8rem !important;font-weight:600;}
pre>code{border:1px solid #ddd;border-left:4px solid #ddd;display:block;background:#f8f8f8;padding:0.5em;}</style><style id="__jsx-2577460746">#container.jsx-1155889099{max-width:700px;margin:40px 100px 50px 340px;}</style><style id="__jsx-3034282154">#sidebar{background:#fff;position:fixed;top:0;left:0;bottom:0;width:250px;overflow-y:auto;overflow-x:auto;padding:10px 30px 30px 30px;border-right:1px solid #bbb;box-shadow:0 0 20px #ccc;}
#sidebar a,#sidebar a:visited{display:block;color:#000;font-weight:700;margin-top:5px;-webkit-text-decoration:none;text-decoration:none;}
.toc-children{margin:10px 0 0;border-left:3px solid #ddd;padding-left:10px;}
#sidebar h1,#sidebar h2,#sidebar h3,#sidebar h4,#sidebar h5,#sidebar h6{font-size:0.75rem !important;font-weight:600;}
.sidebar-section-header{background:#ddd;padding:5px;text-transform:uppercase;border-radius:4px;color:gray;}</style><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><link rel="apple-touch-icon" sizes="57x57" href="../static/favicons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="../static/favicons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="../static/favicons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="../static/favicons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="../static/favicons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="../static/favicons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="../static/favicons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="../static/favicons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="../static/favicons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="../static/favicons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="../static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="../static/favicons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="../static/favicons/favicon-16x16.png"/><meta name="msapplication-TileColor" content="#E535AB"/><meta name="msapplication-TileImage" content="../static/favicons/ms-icon-144x144.png"/><meta name="theme-color" content="#E535AB"/></head><body class="custom_class"><div id="__next"><div class="jsx-1155889099" data-reactroot=""><div id="sidebar" class="jsx-3034282154"><div style="padding-bottom:10px;display:flex;flex-direction:row;cursor:pointer"><img src="/greldal/_next/static/images/81342499647d5509de6dd828ff74969e.png" style="height:50px"/><div style="font-weight:600;font-size:2rem;line-height:50px;padding-left:10px">GRelDAL</div></div><h1 class="jsx-3034282154 sidebar-section-header">Tour of GRelDAL</h1><a class="jsx-3034282154" href="/greldal/">⚡ Quick Start</a><a class="jsx-3034282154" href="/greldal/mapping-operations/">⚡ Mapping Operations</a><a class="jsx-3034282154" href="/greldal/mapping-associations/">⚡ Mapping Associations</a><a class="jsx-3034282154" href="/greldal/best-practices/">⚡ Best Practices</a><h1 class="jsx-3034282154 sidebar-section-header">Additional Topics</h1><a class="jsx-3034282154" href="/greldal/runtime-types/">⚡ Runtime Types</a><a class="jsx-3034282154" href="/greldal/comparision-with-alternatives/">⚡ Comparision With Alternatives</a><hr class="jsx-3034282154"/><a class="jsx-3034282154" href="/greldal/api/">API</a><h1 class="jsx-3034282154 sidebar-section-header">Page Outline</h1></div><div id="container" class="jsx-1155889099"><div><h1 id="runtime-type-validators"><a href="#runtime-type-validators" aria-hidden="true"><span class="icon icon-link"></span></a>Runtime Type Validators</h1><p>In the introduction section, we saw that stores are defined like this:</p><pre><code class="hljs language-ts" metaString=""><span class="hljs-keyword">import</span> { types, mapDataSource } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;greldal&quot;</span>;

<span class="hljs-keyword">const</span> users = mapDataSource({
    name: <span class="hljs-string">&quot;User&quot;</span>,
    description: <span class="hljs-string">&quot;users&quot;</span>,
    fields: {
        id: {
            <span class="hljs-keyword">type</span>: types.string,
            to: GraphQLID,
        },
        name: {
            <span class="hljs-keyword">type</span>: types.string,
        },
    },
});</code></pre><p>In this post, we explore more on the type specifications (eg. <code>types.string</code>) in the mapping above.</p><p>These type specifications are referred to as runtime types, and they validate the type of arguments at runtime. They are not implemented inside GRelDAL, but we use <a href="https://github.com/gcanti/io-ts">io-ts</a>, an excellent library by <a href="https://mobile.twitter.com/GiulioCanti">Giulio Canti</a>.</p><p>You may wonder that given GRaphQL already does validation of types at boundaries, why bother with this at all.</p><p>There are two reasons:</p><ol><li><p>We can extract out static types from these runtime types. This enables us to write type-safe code, when using TypeScript, without ever having to define any additional types. We can simply derive the types of the entities from the data source mapping itself and if you use incorrect fields or arguments, your code will fail to compile.</p></li><li><p>Runtime types are composable and support <a href="https://github.com/gcanti/io-ts#refinements">refinements</a>, so you can embed generic validation logic in the runtime types and share them across field mappings &amp; argument mappings across multiple stores and operations.</p></li></ol></div></div></div></div><script>__NEXT_DATA__ = {"props":{"pageProps":{}},"page":"/runtime-types","query":{},"buildId":"8iisNehlPbrKX~If4PK0A","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/runtime-types" src="/_next/static/8iisNehlPbrKX~If4PK0A/pages/runtime-types.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/8iisNehlPbrKX~If4PK0A/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/static/8iisNehlPbrKX~If4PK0A/pages/_error.js"></script><script src="/_next/static/runtime/webpack-1831ee303495fbc2dd7e.js" async=""></script><script src="/_next/static/chunks/commons.c09e266a3614b47c1a12.js" async=""></script><script src="/_next/static/runtime/main-d34038202fccf0c2b4fd.js" async=""></script><script src="/_next/static/chunks/styles.cea10cd649dbf8aca2a5.js" async=""></script></body></html>
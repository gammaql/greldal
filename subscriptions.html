<!DOCTYPE html><html lang="id"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1.0, width=device-width"/><link rel="apple-touch-icon" sizes="57x57" href="/greldal/static/favicons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/greldal/static/favicons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/greldal/static/favicons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/greldal/static/favicons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/greldal/static/favicons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/greldal/static/favicons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/greldal/static/favicons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/greldal/static/favicons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/greldal/static/favicons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/greldal/static/favicons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/greldal/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/greldal/static/favicons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/greldal/static/favicons/favicon-16x16.png"/><meta name="msapplication-TileColor" content="#E535AB"/><meta name="msapplication-TileImage" content="/greldal/static/favicons/ms-icon-144x144.png"/><meta name="theme-color" content="#E535AB"/><style data-styled="ehiHiI cMLNk jIsvFx fqzCbS cpbcGU fbiqeh dtTHBq jmeHLi okeEt euHRwF" data-styled-version="4.4.1">
/* sc-component-id: Link__Anchor-sc-1hbrjrd-0 */
.jIsvFx{cursor:pointer;background:black;padding:5px;text-transform:uppercase;border-radius:4px;margin:1.6rem 0;color:white !important;}.fqzCbS{cursor:pointer;}
/* sc-component-id: Link__TrailingIcon-sc-1hbrjrd-1 */
.cpbcGU{margin-right:5px;float:right;}
/* sc-component-id: Link___StyledTrailingIcon-sc-1hbrjrd-2 */
.okeEt{margin-right:5px;float:right;margin-left:10px;padding-left:5px;border-left:1px solid white;}
/* sc-component-id: Link___StyledDiv-sc-1hbrjrd-3 */
.euHRwF{float:left;background:gray;margin:-5px;padding:5px 10px;border-radius:4px 0 0 4px;margin-right:5px;}
/* sc-component-id: LibInfoBanner___StyledSpan-jtu4hg-0 */
.cMLNk{font-size:0.8rem;font-weight:100;color:orange;background:lemonchiffon;padding:4px;border-radius:4px;border:1px solid orange;position:relative;top:-20px;}
/* sc-component-id: Sidebar__FixedSidebarContainer-sc-1bydltt-1 */
.ehiHiI{background:#fff;padding:10px 30px 30px 30px;position:fixed;top:0;left:0;bottom:0;width:300px;overflow-y:auto;overflow-x:auto;border-right:1px solid #bbb;box-shadow:0 0 20px #ccc;border-top:4px solid #8dd35f;} .ehiHiI a,.ehiHiI a:visited{display:block;color:#000;font-weight:700;margin-top:5px;-webkit-text-decoration:none;text-decoration:none;} .ehiHiI h1,.ehiHiI h2,.ehiHiI h3,.ehiHiI h4,.ehiHiI h5,.ehiHiI h6{font-size:0.75rem !important;font-weight:600;}
/* sc-component-id: Sidebar__SectionHeader-sc-1bydltt-2 */
.dtTHBq{background:#dee9d8;padding:5px 10px;text-transform:uppercase;border-radius:4px;color:gray;font-size:0.75rem;margin:1.6rem 0;}
/* sc-component-id: Sidebar__Bolt-sc-1bydltt-3 */
.fbiqeh{margin-right:5px;}
/* sc-component-id: PageLayout__DesktopContentContainer-ct4rbe-6 */
.jmeHLi{max-width:700px;margin:40px 100px 50px 400px;} .jmeHLi pre:not(.CodeMirror-line){padding:0 !important;} .jmeHLi h1{margin:2.8rem 0;} .jmeHLi h2,.jmeHLi h3,.jmeHLi h4,.jmeHLi h5,.jmeHLi h6{margin:1.8rem 0;} .jmeHLi p,.jmeHLi ol,.jmeHLi ul{margin:1.8rem 0;} .jmeHLi pre:not(.CodeMirror-line) > code{border-left:4px solid #ddd;display:block;margin:0;padding:5px;} .jmeHLi pre:not(.CodeMirror-line){max-width:calc(100% - 40px);overflow-x:auto;border:1px solid #ddd;background:#f8f8f8;} .jmeHLi a,.jmeHLi a:visited,.jmeHLi a:hover,.jmeHLi a:active{color:#0261cd;font-weight:bold;-webkit-text-decoration:none;text-decoration:none;}</style><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta name="next-head-count" content="2"/><link rel="preload" href="/greldal/_next/static/pFH69I3rqFWgDRgq8HiBV/pages/subscriptions.js" as="script"/><link rel="preload" href="/greldal/_next/static/pFH69I3rqFWgDRgq8HiBV/pages/_app.js" as="script"/><link rel="preload" href="/greldal/_next/static/runtime/webpack-996b7ed7515951998449.js" as="script"/><link rel="preload" href="/greldal/_next/static/chunks/commons.538027c6baa8e9e5b958.js" as="script"/><link rel="preload" href="/greldal/_next/static/runtime/main-edb3a9e8be7524622494.js" as="script"/><link rel="preload" href="/greldal/_next/static/chunks/styles.0f5e68c0a265a808fccd.js" as="script"/><link rel="preload" href="/greldal/_next/static/css/styles.072ebeda.chunk.css" as="style"/><link rel="stylesheet" href="/greldal/_next/static/css/styles.072ebeda.chunk.css"/></head><body class="custom_class"><div id="__next"><div style="display:none"><div class="Sidebar__SidebarContainer-sc-1bydltt-0 Sidebar__FixedSidebarContainer-sc-1bydltt-1 ehiHiI"><div style="padding-bottom:10px;display:flex;flex-direction:row;cursor:pointer"><img src="/greldal/_next/static/images/6f91cdba06813c05d0b3e558d9f749be.png" style="height:50px;width:50px"/><div style="font-weight:600;font-size:2rem;line-height:50px;padding-left:10px;color:#8dd35f">GRelDAL<span class="LibInfoBanner___StyledSpan-jtu4hg-0 cMLNk">Beta</span></div></div><a class="Link__Anchor-sc-1hbrjrd-0 jIsvFx"><div class="Link__TrailingIcon-sc-1hbrjrd-1 cpbcGU">⯈</div>API</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Quick Start</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Playground (New)</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Frequently Asked Questions</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><h1 class="Sidebar__SectionHeader-sc-1bydltt-2 dtTHBq">Guides</h1></a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Mapping Data Sources</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Mapping Operations</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Mapping Associations</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Subscriptions</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Best Practices</a><h1 class="Sidebar__SectionHeader-sc-1bydltt-2 dtTHBq">Additional Topics</h1><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Type Safety</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Comparision With Alternatives</a><a class="Link__Anchor-sc-1hbrjrd-0 fqzCbS"><span class="Sidebar__Bolt-sc-1bydltt-3 fbiqeh">⚡</span>Architecture Overview</a></div><div id="container" class="PageLayout__ContentContainer-ct4rbe-5 PageLayout__DesktopContentContainer-ct4rbe-6 jmeHLi"><div><h1 id="subscriptions"><a href="#subscriptions" aria-hidden="true"><span class="icon icon-link"></span></a>Subscriptions</h1><p>It is easy to use <a href="https://github.com/apollographql/graphql-subscriptions">graphql-subscriptions</a> alongside GRelDAL to support real-time subscriptions.</p><pre style="display:block;overflow-x:auto;padding:0.5em;color:#333;background:#f8f8f8"><code><span style="color:#333;font-weight:bold">import</span> { PubSub } <span style="color:#333;font-weight:bold">from</span> <span style="color:#d14">&quot;graphql-subscriptions&quot;</span>;
<span style="color:#333;font-weight:bold">const</span> pubsub = <span style="color:#333;font-weight:bold">new</span> PubSub();
        <span style="color:#333;font-weight:bold">let</span>
        schema = mapSchema([
            operationPresets.findOneOperation(users),

            <span style="color:#998;font-style:italic">// When mapping an operation we can specify a publish function</span>
            <span style="color:#998;font-style:italic">// which will publish insertion to a specified channel</span>
            operationPresets.insertOneOperation(users, mapping =&gt; ({
                ...mapping,
                <span class="hljs-attr">publish</span>: <span class="hljs-function">(<span class="hljs-params">payload: MutationPublishPayload</span>) =&gt;</span> pubsub.publish(<span style="color:#d14">&quot;MUTATIONS&quot;</span>, payload),
            })),

            <span style="color:#998;font-style:italic">// We define a subscription operation</span>
            <span style="color:#998;font-style:italic">// which can listen to this channel</span>
            {
                <span class="hljs-attr">operationType</span>: <span style="color:#d14">&quot;subscription&quot;</span> <span style="color:#333;font-weight:bold">as</span> <span style="color:#333;font-weight:bold">const</span>,
                <span class="hljs-attr">name</span>: <span style="color:#d14">&quot;userInserted&quot;</span>,
                <span class="hljs-attr">fieldConfig</span>: {
                    <span class="hljs-attr">type</span>: GraphQLList(
                        <span style="color:#333;font-weight:bold">new</span> GraphQLObjectType({
                            <span class="hljs-attr">name</span>: <span style="color:#d14">&quot;UserInsertionNotification&quot;</span>,
                            <span class="hljs-attr">fields</span>: {
                                <span class="hljs-attr">id</span>: {
                                    <span class="hljs-attr">type</span>: GraphQLID,
                                },
                            },
                        }),
                    ),
                    <span class="hljs-attr">resolve</span>: <span class="hljs-function"><span class="hljs-params">payload</span> =&gt;</span> {
                        <span style="color:#333;font-weight:bold">return</span> payload.primary;
                    },
                    <span class="hljs-attr">subscribe</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> pubsub.asyncIterator(<span style="color:#d14">&quot;MUTATIONS&quot;</span>),
                },
            },
        ]);</code></pre><p>Currently there is no explicit support of tracking change in associated data sources. This is likely to be added in near future.</p><a class="Link__Anchor-sc-1hbrjrd-0 jIsvFx" style="display:inline-block;cursor:pointer"><div class="Link__TrailingIcon-sc-1hbrjrd-1 Link___StyledTrailingIcon-sc-1hbrjrd-2 okeEt">⯈</div><div class="Link___StyledDiv-sc-1hbrjrd-3 euHRwF">Next</div> <strong>Best Practices</strong></a></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/subscriptions","query":{},"buildId":"pFH69I3rqFWgDRgq8HiBV","assetPrefix":"/greldal","nextExport":true}</script><script nomodule="" src="/greldal/_next/static/runtime/polyfills-a85c268111cefb2b3fa6.js"></script><script async="" data-next-page="/subscriptions" src="/greldal/_next/static/pFH69I3rqFWgDRgq8HiBV/pages/subscriptions.js"></script><script async="" data-next-page="/_app" src="/greldal/_next/static/pFH69I3rqFWgDRgq8HiBV/pages/_app.js"></script><script src="/greldal/_next/static/runtime/webpack-996b7ed7515951998449.js" async=""></script><script src="/greldal/_next/static/chunks/commons.538027c6baa8e9e5b958.js" async=""></script><script src="/greldal/_next/static/runtime/main-edb3a9e8be7524622494.js" async=""></script><script src="/greldal/_next/static/chunks/styles.0f5e68c0a265a808fccd.js" async=""></script></body></html>